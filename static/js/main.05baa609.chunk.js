(this["webpackJsonpgrocery-list"]=this["webpackJsonpgrocery-list"]||[]).push([[0],{26:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),i=c(19),a=c.n(i),r=(c(26),c(10)),l=c(8),d=c(5),j=c(11),o=c(2),u=c(3),b=c(1);var m=function(e){var t=e.children,c=e.clickHandler,s=e.type,n=c||function(){return console.log("button was clicked")},i="flex items-start px-2 py-2 font-semibold border rounded-sm shadow-sm";switch(void 0===s?"default":s){case"success":i+=" bg-green-500 border-green-600 text-gray-800";break;case"error":i+=" bg-red-500 border-red-600 text-gray-200";break;case"primary":i+=" bg-blue-500 border-blue-600 text-gray-200"}return Object(b.jsx)("button",{className:i,onClick:n,children:null!==t&&void 0!==t?t:"Click"})},O=function(e,t){Object(s.useEffect)((function(){function c(c){e.current&&!e.current.contains(c.target)&&t()}return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[e,t])};var x=function(e){var t=e.children,c=e.modalTitle,n=void 0===c?"Modal Title":c,i=e.closeHandler,a=Object(s.useRef)(null);return O(a,i),Object(b.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 py-5",style:{backgroundColor:"rgba(0,0,0,.3"},children:Object(b.jsxs)("div",{ref:a,className:"bg-gray-300 w-5/6 mx-auto py-2 px-2 shadow",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[Object(b.jsx)("p",{className:"font-bold",children:n}),Object(b.jsx)(u.h,{className:"w-5",onClick:function(){return i()}})]}),t]})})};var f=function(e){var t=e.closeHandler,c=e.addListHandler,n=Object(s.useState)(""),i=Object(d.a)(n,2),a=i[0],r=i[1],l=Object(s.useState)(""),j=Object(d.a)(l,2),o=j[0],u=j[1],O=Object(s.useRef)(null);return Object(s.useEffect)((function(){O.current.focus()}),[]),Object(b.jsxs)(x,{closeHandler:t,modalTitle:"Start new list",children:[o&&Object(b.jsx)("div",{className:"px-2 py-1 mb-2 text-gray-50 bg-red-400",children:o}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"list_name",children:"List Name: "}),Object(b.jsx)("input",{ref:O,id:"list_name",defaultValue:a,onChange:function(e){return r(e.target.value)},className:"border border-gray-400 p-1 rounded-sm",type:"text"})]}),Object(b.jsx)("div",{className:"flex justify-end mt-6",children:Object(b.jsx)(m,{type:"success",clickHandler:function(){a?(c({name:a,items:[]}),t()):u("Please enter a name")},children:"Start List"})})]})};var h=function(e){var t=e.lists,c=e.deleteListHandler;return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"font-bold text-lg mt-4",children:t.length>0?"Current Lists":"No Lists Yet"}),t.map((function(e,t){return Object(b.jsxs)("div",{className:"flex justify-between items-center px-1 mb-8",children:[Object(b.jsx)("p",{children:e.name}),Object(b.jsxs)("div",{className:"flex space-x-2",children:[Object(b.jsx)(m,{type:"error",clickHandler:function(){return c(e.id)},children:Object(b.jsx)(u.g,{className:"w-6"})}),Object(b.jsx)(j.b,{to:"/lists/".concat(e.id),children:Object(b.jsx)(m,{type:"primary",clickHandler:null,children:Object(b.jsx)(u.c,{className:"w-6"})})}),Object(b.jsx)(j.b,{to:"/lists/shop/".concat(e.id),children:Object(b.jsx)(m,{type:"success",clickHandler:null,children:Object(b.jsx)(u.f,{className:"w-6"})})})]})]},"glist_".concat(t))}))]})};var v=function(e){var t,c,n=e.listId,i=e.listItem,a=e.deleteHandler,r=e.updateHandler,l=Object(s.useState)(null!==(t=i.quantity)&&void 0!==t?t:1),j=Object(d.a)(l,2),o=j[0],O=j[1],x=Object(s.useState)(null!==(c=i.item)&&void 0!==c?c:""),f=Object(d.a)(x,2),h=f[0],v=f[1];return Object(b.jsxs)("div",{className:"flex flex-col items-end space-x-2 mb-2 item-row",children:[Object(b.jsxs)("div",{className:"flex mb-2",children:[Object(b.jsxs)("div",{className:"w-1/12 mr-2",children:[Object(b.jsx)("label",{htmlFor:"quantity_".concat(i.id),children:"Qty: "}),Object(b.jsx)("input",{id:"quantity_".concat(i.id),defaultValue:o,onChange:function(e){return O(e.target.value)},className:"border border-gray-400 p-1 mt-1 rounded-sm w-full",type:"number"})]}),Object(b.jsxs)("div",{className:"w-11/12",children:[Object(b.jsx)("label",{htmlFor:"item_".concat(i.id),children:"Item: "}),Object(b.jsx)("input",{id:"item_".concat(i.id),defaultValue:h,onChange:function(e){return t=e.target.value,v(t),void r(n,{id:i.id,item:t,quantity:o});var t},className:"border border-gray-400 p-1 mt-1 rounded-sm w-full",type:"text"})]})]}),Object(b.jsx)("div",{className:"flex justify-between space-x-2",children:Object(b.jsx)(m,{type:"error",clickHandler:function(){return a(i.id)},children:Object(b.jsx)(u.g,{className:"w-5"})})})]})},p=function(){return Object.keys(localStorage).filter((function(e){return e.includes("list_")})).map((function(e){return JSON.parse(localStorage.getItem(e))})).sort((function(e,t){return e.id-t.id}))},g=function(e){return JSON.parse(localStorage.getItem("list_".concat(e)))},y=function(e,t){var c=g(e),s=Object(l.a)(Object(l.a)({},c),t);return s.name=t.name||c.name,s.items=t.items||c.items,localStorage.setItem("list_".concat(c.id),JSON.stringify(s)),s},N={getLists:p,getList:g,removeListItem:function(e,t){var c=g(e),s=Object(r.a)(c.items);return c.items=s.filter((function(e){return e.id!==t})),y(e,Object(l.a)({},c))},addNewListItem:function(e){var t=g(e),c=Object(r.a)(t.items);return c.push({id:c.length+1,quantity:1,item:"",acquired:!1}),t.items=c,y(e,Object(l.a)({},t))},updateListItem:function(e,t){var c=g(e),s=Object(r.a)(c.items),n=s.findIndex((function(e){return e.id===t.id}));return s[n]=Object(l.a)(Object(l.a)({},s[n]),t),c.items=s,localStorage.setItem("list_".concat(c.id),JSON.stringify(c)),c},updateList:y,clearLists:function(){localStorage.clear()},removeList:function(e){return localStorage.removeItem("list_".concat(e)),p()}};var w=function(){var e=Object(o.f)().id,t=Object(s.useState)(N.getList(e)),c=Object(d.a)(t,2),n=c[0],i=c[1],a=Object(s.useState)([]),l=Object(d.a)(a,2),O=l[0],x=l[1];if(Object(s.useEffect)((function(){n&&x(Object(r.a)(n.items))}),[n]),Object(s.useEffect)((function(){O.length>1&&document.querySelector(".item-row:last-child").scrollIntoView({behavior:"smooth"})}),[O]),!n)return null;function f(t){var c=N.removeListItem(e,t);i(c),x(c.items)}function h(e,t){var c=N.updateListItem(e,t);i(c),x(c.items)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("div",{className:"w-1/6",children:Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)(u.b,{className:"w-6"})})}),Object(b.jsx)("p",{className:"font-bold text-xl flex-1",children:n.name})]}),Object(b.jsxs)("div",{className:"flex flex-col mt-5 mb-12 item-list",children:[0===O.length&&Object(b.jsx)("p",{className:"mt-5",children:"No items yet."}),O.map((function(t,c){return Object(b.jsx)(v,{listId:e,updateHandler:h,deleteHandler:f,listItem:t},"list_item_".concat(c))}))]}),Object(b.jsxs)("div",{className:"flex mt-8 justify-between fixed bottom-2 right-2 left-2",children:[Object(b.jsx)(m,{type:"primary",clickHandler:function(){document.body.scrollIntoView({behavior:"smooth"})},children:Object(b.jsx)(u.a,{className:"w-5"})}),Object(b.jsxs)(m,{type:"success",clickHandler:function(){var t=N.addNewListItem(e);i(t),x(t.items)},children:[Object(b.jsx)(u.d,{className:"w-5"})," Add Item"]})]})]})};var S=function(e){var t,c=e.listId,n=e.listItem,i=e.updateHandler,a=Object(s.useState)(null!==n&&void 0!==n?n:""),r=Object(d.a)(a,2),j=r[0],o=r[1],O=Object(s.useState)(null!==(t=j.acquired)&&void 0!==t&&t),x=Object(d.a)(O,2),f=x[0],h=x[1];return Object(b.jsxs)("div",{className:"flex items-center space-x-3 mb-4",style:{textDecoration:f?"line-through":null},children:[Object(b.jsx)(m,{type:"primary",clickHandler:function(){return function(){var e=!f;h(e),o(Object(l.a)(Object(l.a)({},j),{},{acquired:e})),i(c,{id:n.id,acquired:e})}()},children:Object(b.jsx)(u.e,{className:"w-5"})}),Object(b.jsxs)("p",{children:[j.quantity," ",j.item]})]})};var L=function(){var e=Object(o.f)().id,t=Object(s.useState)(N.getList(e)),c=Object(d.a)(t,2),n=c[0],i=c[1],a=Object(s.useState)([]),l=Object(d.a)(a,2),m=l[0],O=l[1];function x(e,t){var c=N.updateListItem(e,t);i(c),O(c.items)}return Object(s.useEffect)((function(){n&&O(Object(r.a)(n.items))}),[n]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("div",{className:"w-1/6",children:Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)(u.b,{className:"w-6"})})}),Object(b.jsxs)("p",{className:"font-bold text-xl w-5/6",children:["Shopping ",n.name]})]}),Object(b.jsxs)("div",{className:"flex flex-col mt-5 mb-12 item-list",children:[0===m.length&&Object(b.jsx)("p",{className:"mt-5",children:"No items yet."}),m.map((function(t,c){return Object(b.jsx)(S,{listId:e,updateHandler:x,listItem:t},"list_item_".concat(c))}))]})]})};var I=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1],i=N.getLists(),a=Object(s.useState)(i),O=Object(d.a)(a,2),x=O[0],v=O[1];return Object(b.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-300",children:[Object(b.jsx)("header",{className:"w-full bg-gray-500 text-gray-50 py-3 px-2",children:Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)(u.f,{className:"w-5 mr-1"})," Grocery List App"]})}),Object(b.jsx)("main",{className:"my-2 px-2 flex-1",children:Object(b.jsx)(j.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/lists/:id",children:Object(b.jsx)(w,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/lists/shop/:id",children:Object(b.jsx)(L,{})}),Object(b.jsxs)(o.a,{path:"/",children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsxs)(m,{type:"success",clickHandler:function(){return n(!0)},children:[Object(b.jsx)(u.d,{className:"w-5"})," Create list"]}),Object(b.jsxs)(m,{type:"error",clickHandler:function(){return N.clearLists(),void v([])},children:[Object(b.jsx)(u.g,{className:"w-5"})," Clear All"]})]}),Object(b.jsx)(h,{lists:x,deleteListHandler:function(e){var t=N.removeList(e);v(t)}})]})]})})}),c&&Object(b.jsx)(f,{closeHandler:function(){return n(!1)},addListHandler:function(e){var t=x.length+1,c=Object(l.a)(Object(l.a)({},e),{},{id:t});localStorage.setItem("list_".concat(t),JSON.stringify(c)),v([].concat(Object(r.a)(x),[c]))}})]})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),H()}},[[36,1,2]]]);
//# sourceMappingURL=main.05baa609.chunk.js.map