(this["webpackJsonpgrocery-list"]=this["webpackJsonpgrocery-list"]||[]).push([[0],{26:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),r=c(19),a=c.n(r),i=(c(26),c(4)),l=c(10),o=c(2),d=c(3),j=c(1);var u=function(e){var t=e.children,c=e.clickHandler,s=e.type,n=c,r="flex items-start px-2 py-2 font-semibold border rounded-sm shadow-sm";switch(void 0===s?"default":s){case"success":r+=" bg-green-500 border-green-600 text-gray-800";break;case"error":r+=" bg-red-500 border-red-600 text-gray-200";break;case"primary":r+=" bg-blue-500 border-blue-600 text-gray-200"}return Object(j.jsx)("button",{className:r,onClick:n,children:null!==t&&void 0!==t?t:"Click"})},b=function(e,t){Object(s.useEffect)((function(){return document.addEventListener("mousedown",(function(c){e.current&&!e.current.contains(c.target)&&t()})),function(){document.removeEventListener("mousedown",(function(c){return function(c){e.current&&!e.current.contains(c.target)&&t()}(c)}))}}),[e,t])};var m=function(e){var t=e.children,c=e.modalTitle,n=void 0===c?"Modal Title":c,r=e.closeHandler,a=Object(s.useRef)(null);return b(a,r),Object(j.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 pt-10",style:{backgroundColor:"rgba(0,0,0,.4"},children:Object(j.jsxs)("div",{ref:a,className:"bg-gray-300 w-5/6 mx-auto py-2 px-3 shadow-lg rounded-sm border-gray-400 border",children:[Object(j.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[Object(j.jsx)("p",{className:"font-bold",children:n}),Object(j.jsx)(d.h,{className:"w-5",onClick:function(){return r()}})]}),t]})})};var f=function(e){var t=e.closeHandler,c=e.addListHandler,n=Object(s.useState)(""),r=Object(i.a)(n,2),a=r[0],l=r[1],o=Object(s.useState)(""),d=Object(i.a)(o,2),b=d[0],f=d[1];function x(e){e.preventDefault(),a?(c(a),t()):f("Please enter a name")}var O=Object(s.useRef)(null);return Object(s.useEffect)((function(){null!==O.current&&O.current.focus()}),[]),Object(j.jsxs)(m,{closeHandler:t,modalTitle:"Start new list",children:[b&&Object(j.jsx)("div",{className:"px-2 py-1 mb-2 text-gray-50 bg-red-400",children:b}),Object(j.jsxs)("form",{onSubmit:x,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"list_name",children:"List Name: "}),Object(j.jsx)("input",{ref:O,id:"list_name",defaultValue:a,onChange:function(e){return l(e.target.value)},className:"border border-gray-400 p-1 rounded-sm",type:"text"})]}),Object(j.jsx)("div",{className:"flex justify-end mt-6",children:Object(j.jsx)(u,{type:"success",clickHandler:x,children:"Start List"})})]})]})};var x=function(e){var t=e.lists,c=e.deleteListHandler;return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"font-bold text-lg mt-4",children:t.length>0?"Current Lists":"No Lists Yet"}),t.map((function(e,t){return Object(j.jsxs)("div",{className:"flex justify-between items-center px-1 mb-8",children:[Object(j.jsx)("p",{children:e.name}),Object(j.jsxs)("div",{className:"flex space-x-2",children:[Object(j.jsx)(u,{type:"error",clickHandler:function(){return c(e.id)},children:Object(j.jsx)(d.g,{className:"w-6"})}),Object(j.jsx)(l.b,{to:"/lists/".concat(e.id),children:Object(j.jsx)(u,{type:"primary",children:Object(j.jsx)(d.c,{className:"w-6"})})}),Object(j.jsx)(l.b,{to:"/lists/shop/".concat(e.id),children:Object(j.jsx)(u,{type:"success",children:Object(j.jsx)(d.f,{className:"w-6"})})})]})]},"glist_".concat(t))}))]})},O=c(12);var h,g=function(e){var t,c,n=e.listCategories,r=e.listId,a=e.listItem,l=e.deleteHandler,o=e.updateHandler,b=Object(s.useState)(null!==(t=a.item)&&void 0!==t?t:""),m=Object(i.a)(b,2),f=m[0],x=m[1],O=Object(s.useState)(null!==(c=a.category)&&void 0!==c?c:"Miscellaneous"),h=Object(i.a)(O,2),g=h[0],v=h[1];return Object(j.jsxs)("div",{className:"flex flex-col mb-2 item-row",children:[Object(j.jsx)("div",{className:"flex mb-2",children:Object(j.jsxs)("div",{className:"w-full",children:[Object(j.jsx)("label",{className:"font-bold",htmlFor:"item_".concat(a.id),children:"Item: "}),Object(j.jsx)("input",{id:"item_".concat(a.id),defaultValue:f,onChange:function(e){return t=e.target.value,x(t),void o(r,{id:a.id,item:t,category:g,acquired:a.acquired});var t},className:"border border-gray-400 p-1 mt-1 rounded-sm w-full",type:"text"})]})}),Object(j.jsxs)("div",{className:"flex justify-between space-x-2",children:[Object(j.jsx)("div",{className:"text-sm",children:Object(j.jsx)("select",{name:"category_".concat(a.id),id:"category_".concat(a.id),className:"border bg-gray-100 border-gray-400 p-1 mt-1 rounded-sm",onChange:function(e){return t=e.target.value,v(t),void o(r,{id:a.id,item:f,category:t,acquired:a.acquired});var t},value:g,children:n.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},"".concat(e,"_").concat(t))}))})}),Object(j.jsx)(u,{type:"error",clickHandler:function(){return l(a.id)},children:Object(j.jsx)(d.g,{className:"w-5"})})]})]})},v=c(9);!function(e){e.Dairy="Dairy",e.DryCanGoods="Dry/Can Goods",e.Frozen="Frozen",e.Pantry="Pantry",e.Produce="Produce",e.Meat="Meat",e.Miscellaneous="Miscellaneous"}(h||(h={}));var p=function(){var e=Object.keys(localStorage).filter((function(e){return e.includes("list_")}));return 0===e.length?[]:e.map((function(e){var t,c=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"{}";return JSON.parse(c)})).sort((function(e,t){return e.id-t.id}))},y=function(e){var t,c=null!==(t=localStorage.getItem("list_".concat(e)))&&void 0!==t?t:"{}";return JSON.parse(c)},N=function(e,t){var c=y(e),s=Object(v.a)(Object(v.a)({},c),t);return s.name=t.name||c.name,s.items=t.items||c.items,localStorage.setItem("list_".concat(c.id),JSON.stringify(s)),s},w={addList:function(e){var t=p(),c=1;t.length>0&&(c=t.map((function(e){return e.id})).sort().splice(-1,1)[0]+1);var s={id:c,name:e,items:[]};return localStorage.setItem("list_".concat(c),JSON.stringify(s)),p()},getLists:p,getList:y,removeListItem:function(e,t){var c=y(e),s=Object(O.a)(c.items);return c.items=s.filter((function(e){return e.id!==t})),N(e,Object(v.a)({},c))},addNewListItem:function(e){var t=y(e),c=Object(O.a)(t.items);return c.push({id:c.length+1,item:"",acquired:!1,category:h.Miscellaneous}),t.items=c,N(e,Object(v.a)({},t))},updateListItem:function(e,t){var c=y(e),s=Object(O.a)(c.items),n=s.findIndex((function(e){return e.id===t.id}));return s[n]=Object(v.a)(Object(v.a)({},s[n]),t),c.items=s,localStorage.setItem("list_".concat(c.id),JSON.stringify(c)),c},updateList:N,clearLists:function(){localStorage.clear()},removeList:function(e){return localStorage.removeItem("list_".concat(e)),p()}},S={getCategories:function(){var e=[];for(var t in h)e.push(t);return e}};var L=function(){var e=Object(o.f)().id,t=parseInt(e),c=Object(s.useState)(w.getList(t)),n=Object(i.a)(c,2),r=n[0],a=n[1],b=Object(s.useState)([]),m=Object(i.a)(b,2),f=m[0],x=m[1],h=Object(s.useState)(S.getCategories()),v=Object(i.a)(h,2),p=v[0];if(v[1],Object(s.useEffect)((function(){r&&x(Object(O.a)(r.items))}),[r]),Object(s.useEffect)((function(){if(f.length>1){var e=document.querySelector(".item-row:last-child");e&&e.scrollIntoView({behavior:"smooth"})}}),[f]),!r)return null;function y(e){var c=w.removeListItem(t,e);a(c),x(c.items)}function N(e,t){var c=w.updateListItem(e,t);a(c),x(c.items)}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"w-1/6",children:Object(j.jsx)(l.b,{to:"/",children:Object(j.jsx)(d.b,{className:"w-6"})})}),Object(j.jsx)("p",{className:"font-bold text-xl flex-1",children:r.name})]}),Object(j.jsxs)("div",{className:"flex flex-col mt-5 mb-12 item-list",children:[0===f.length&&Object(j.jsx)("p",{className:"mt-5",children:"No items yet."}),f.map((function(e,c){return Object(j.jsx)(g,{listCategories:p,listId:t,updateHandler:N,deleteHandler:y,listItem:e},"list_item_".concat(c))}))]}),Object(j.jsxs)("div",{className:"flex mt-8 justify-between fixed bottom-2 right-2 left-2",children:[Object(j.jsx)(u,{type:"primary",clickHandler:function(){document.body.scrollIntoView({behavior:"smooth"})},children:Object(j.jsx)(d.a,{className:"w-5"})}),Object(j.jsxs)(u,{type:"success",clickHandler:function(){var e=w.addNewListItem(t);a(e),x(e.items)},children:[Object(j.jsx)(d.d,{className:"w-5"})," Add Item"]})]})]})};var I=function(e){var t,c=e.listId,n=e.listItem,r=e.updateHandler,a=Object(s.useState)(null!==n&&void 0!==n?n:""),l=Object(i.a)(a,2),o=l[0],b=l[1],m=Object(s.useState)(null!==(t=o.acquired)&&void 0!==t&&t),f=Object(i.a)(m,2),x=f[0],O=f[1],h={textDecoration:x?"line-through":null,fontStyle:x?"italic":null,color:x?"rgba(0,0,0,.5)":null};return Object(j.jsxs)("div",{className:"flex items-center space-x-3 mb-4",style:h,children:[Object(j.jsx)(u,{type:"primary",clickHandler:function(){return function(){var e=!x;O(e),b(Object(v.a)(Object(v.a)({},o),{},{acquired:e})),r(c,{id:n.id,acquired:e})}()},children:Object(j.jsx)(d.e,{className:"w-4"})}),Object(j.jsxs)("p",{children:[o.quantity," ",o.item]})]})};var H=function(){var e=Object(o.f)().id,t=parseInt(e),c=Object(s.useState)(w.getList(t)),n=Object(i.a)(c,2),r=n[0],a=n[1],u=Object(s.useState)([]),b=Object(i.a)(u,2),m=b[0],f=b[1],x=S.getCategories(),O=Object(s.useState)("all"),h=Object(i.a)(O,2),g=h[0],v=h[1];function p(e,t){var c=w.updateListItem(e,t);a(c),y(c)}function y(e){var t=x.map((function(t){return{category:t,items:e.items.filter((function(e){return e.category===t}))}}));f(t)}return Object(s.useEffect)((function(){r&&y(r)}),[r]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"w-1/6",children:Object(j.jsx)(l.b,{to:"/",children:Object(j.jsx)(d.b,{className:"w-6"})})}),Object(j.jsxs)("p",{className:"font-bold text-xl w-5/6",children:["Shopping ",r.name]})]}),Object(j.jsxs)("div",{className:"flex mt-4",children:[Object(j.jsx)("label",{className:"pr-2 font-bold",htmlFor:"categories",children:"Filter:"}),Object(j.jsxs)("select",{className:"bg-gray-200 shadow-sm py-1 pl-1",name:"categories",id:"categories",value:g,onChange:function(e){return v(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"All"}),x.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},"category_".concat(t))}))]})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-12 item-list",children:[0===m.length&&Object(j.jsx)("p",{className:"mt-5",children:"No items yet."}),m.map((function(t,c){return t.items.length>0&&Object(j.jsxs)("div",{className:"pb-6 ".concat(t.category===g||"all"===g?"flex flex-col":"hidden"),children:[Object(j.jsx)("p",{className:"font-bold text-right",children:t.category}),Object(j.jsx)("hr",{className:"border-gray-400 mb-2"}),t.items.map((function(t,c){return Object(j.jsx)(I,{listId:e,updateHandler:p,listItem:t},"list_item_".concat(c))}))]},"list_category_".concat(c))}))]})]})};var C=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],r=w.getLists(),a=Object(s.useState)(r),b=Object(i.a)(a,2),m=b[0],O=b[1];return Object(j.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-300",children:[Object(j.jsx)("header",{className:"w-full bg-gray-500 text-gray-50 py-3 px-2 h-12",children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)(d.f,{className:"w-5 mr-1"}),"Grocery List App"]})}),Object(j.jsx)("main",{className:"my-2 px-2 flex-1",children:Object(j.jsx)(l.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/lists/:id",children:Object(j.jsx)(L,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/lists/shop/:id",children:Object(j.jsx)(H,{})}),Object(j.jsxs)(o.a,{path:"/",children:[Object(j.jsxs)("div",{className:"flex justify-between",children:[Object(j.jsxs)(u,{type:"success",clickHandler:function(){return n(!0)},children:[Object(j.jsx)(d.d,{className:"w-5"})," Create list"]}),Object(j.jsxs)(u,{type:"error",clickHandler:function(){return w.clearLists(),void O([])},children:[Object(j.jsx)(d.g,{className:"w-5"})," Clear All"]})]}),Object(j.jsx)(x,{lists:m,deleteListHandler:function(e){var t=w.removeList(e);O(t)}})]})]})})}),c&&Object(j.jsx)(f,{closeHandler:function(){return n(!1)},addListHandler:function(e){var t=w.addList(e);O(t)}})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),_()}},[[36,1,2]]]);
//# sourceMappingURL=main.7c86ba3b.chunk.js.map